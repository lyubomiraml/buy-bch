{"version":3,"sources":["api/buy-bch.api.js","components/custom-button/custom-button.component.jsx","components/form-input/form-input.component.jsx","components/spinner/spinner.component.jsx","components/new-order/new-order.component.jsx","components/payment-pending/payment-pending.component.jsx","components/phone-verification/phone-verification.component.jsx","components/photo-verification/photo-verification.component.jsx","App.js","reportWebVitals.js","index.js"],"names":["getRate","bgnAmount","a","axios","get","response","data","getOrder","orderId","console","log","newOrder","bchAddress","email","post","bgn_amount","bch_addr","order","errorMessageFromErrorForStatus","verifyPhone","phone","verifyPhoneCode","secretCode","secret_code","verifyPhoto","photo","photoUrl","headers","type","err","statusCode","customErrorMessage","errorMessage","status","CustomButton","children","otherProps","inverted","className","FormInput","handleChange","label","shrink","onChange","value","length","Spinner","NewOrder","setOrder","useState","bgn","setBgn","setEmail","setBchAddress","bch","setBch","setErrorMessage","loading","setLoading","didMount","useRef","useEffect","current","timeOutId","setTimeout","bchAmount","clearTimeout","handleSubmit","event","preventDefault","localStorage","setItem","id","onSubmit","name","target","required","step","max","process","min","toString","readOnly","href","PaymentPending","paymentUrl","useReducer","x","forceUpdate","onClick","window","open","getItem","clear","location","reload","PhoneVerification","setPhone","validationCode","setValidationCode","codeSent","setCodeSent","PhotoVerification","photoSuffix","declarationFormUrl","setPhoto","key","setKey","files","img","alt","src","URL","createObjectURL","App","retrievedOrder","fetchOrder","renderSwitch","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.582e9380.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const getRate = async (bgnAmount) => {\n  const response = await axios.get(\"/rate/bchbgn?amount_bgn=\" + bgnAmount);\n  return response.data[\"amount_bch\"];\n};\n\nexport const getOrder = async (orderId) => {\n  try {\n    const response = await axios.get(\"/order/\" + orderId);\n    return response.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const newOrder = async (bgnAmount, bchAddress, email) => {\n  try {\n    const response = await axios.post(\"/order\", {\n      bgn_amount: bgnAmount,\n      bch_addr: bchAddress,\n      email,\n    });\n    return { order: response.data };\n  } catch (err) {\n    return errorMessageFromErrorForStatus(\n      err,\n      503,\n      \"Insuffiecient BCH reserves in the service to fulfill the order. Please decrease the amount or try again later\"\n    );\n  }\n};\n\nexport const verifyPhone = async (orderId, phone) => {\n  try {\n    await axios.post(\"/order/\" + orderId + \"/id/phone\", {\n      phone,\n    });\n  } catch (err) {\n    return errorMessageFromErrorForStatus(\n      err,\n      400,\n      \"Phone number is not formed correctly. Please follow the example: +359888123456\"\n    );\n  }\n};\n\nexport const verifyPhoneCode = async (orderId, phone, secretCode) => {\n  try {\n    const response = await axios.post(\"/order/\" + orderId + \"/id/phone\", {\n      phone,\n      secret_code: secretCode,\n    });\n    return { order: response.data };\n  } catch (err) {\n    return errorMessageFromErrorForStatus(\n      err,\n      403,\n      \"Validation code is invalid. Please try again.\"\n    );\n  }\n};\n\nexport const verifyPhoto = async (orderId, photo, photoUrl) => {\n  try {\n    const response = await axios.post(\n      \"/order/\" + orderId + \"/id/\" + photoUrl,\n      photo,\n      {\n        headers: {\n          \"Content-Type\": photo.type,\n        },\n      }\n    );\n    return { order: response.data };\n  } catch (err) {\n    return errorMessageFromErrorForStatus(\n      err,\n      400,\n      \"Photo is of wrong format. Please try again.\"\n    );\n  }\n};\n\nconst errorMessageFromErrorForStatus = (\n  err,\n  statusCode,\n  customErrorMessage\n) => {\n  let errorMessage;\n  if (err.response && err.response.status === statusCode) {\n    errorMessage = customErrorMessage;\n  } else {\n    errorMessage = \"Unexpected error. Please contact system administrator.\";\n  }\n  return { errorMessage };\n};\n","import React from \"react\";\n\nimport \"./custom-buttom.styles.scss\";\n\nconst CustomButton = ({ children, inverted, ...otherProps }) => (\n  <button className=\"custom-button\" {...otherProps}>\n    {children}\n  </button>\n);\n\nexport default CustomButton;\n","import React from \"react\";\n\nimport \"./form-input.styles.scss\";\n\nconst FormInput = ({ handleChange, label, shrink, ...otherProps }) => (\n  <div className=\"group\">\n    <input className=\"form-input\" onChange={handleChange} {...otherProps} />\n    {label ? (\n      <label\n        className={`${\n          otherProps.value.length ? \"shrink\" : \"\"\n        } form-input-label`}\n      >\n        {label}\n      </label>\n    ) : null}\n  </div>\n);\n\nexport default FormInput;\n","import React from \"react\";\n\nimport \"./spinner.styles.scss\";\n\nconst Spinner = () => (\n  <div className=\"spinner-overlay\">\n    <div className=\"spinner-container\" />\n  </div>\n);\n\nexport default Spinner;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport FormInput from \"../form-input/form-input.component\";\nimport { newOrder, getRate } from \"../../api/buy-bch.api\";\nimport Spinner from \"../spinner/spinner.component\";\n\nimport \"../form.styles.scss\";\n\nfunction NewOrder({ setOrder }) {\n  const [bgn, setBgn] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [bchAddress, setBchAddress] = useState(\"\");\n  const [bch, setBch] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const didMount = useRef(false);\n\n  useEffect(() => {\n    if (didMount.current) {\n      const timeOutId = setTimeout(async () => {\n        const bchAmount = await getRate(bgn);\n        setBch(bchAmount);\n      }, 1000);\n      return () => clearTimeout(timeOutId);\n    } else {\n      didMount.current = true;\n    }\n  }, [bgn]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setLoading(true);\n    const response = await newOrder(bgn, bchAddress, email);\n    setLoading(false);\n    if (response.order) {\n      localStorage.setItem(\"orderId\", response.order.id);\n      setOrder(response.order);\n    } else if (response.errorMessage) {\n      setErrorMessage(response.errorMessage);\n    }\n  };\n\n  const handleChangeEmail = (event) => {\n    setEmail(event.target.value);\n  };\n\n  const handleChangeBchAddress = (event) => {\n    setBchAddress(event.target.value);\n  };\n\n  const handleChangeBgn = (event) => {\n    setBgn(event.target.value);\n  };\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  return (\n    <div className=\"new-order\">\n      <form onSubmit={handleSubmit}>\n        <FormInput\n          name=\"email\"\n          type=\"email\"\n          handleChange={handleChangeEmail}\n          value={email}\n          label=\"Your Email\"\n          required\n        />\n        <FormInput\n          name=\"bchAddress\"\n          type=\"bchAddress\"\n          handleChange={handleChangeBchAddress}\n          value={bchAddress}\n          label=\"Your Bitcoin Cash Wallet Address\"\n          required\n        />\n        <FormInput\n          name=\"bgn\"\n          type=\"number\"\n          step=\"0.001\"\n          handleChange={handleChangeBgn}\n          value={bgn}\n          label=\"Amount of BGN you want to spend\"\n          required\n          max={process.env.REACT_APP_MAX_BGN_AMOUNT}\n          min={process.env.REACT_APP_MIN_BGN_AMOUNT}\n        />\n        <FormInput\n          name=\"bch\"\n          type=\"text\"\n          value={bch ? bch.toString() : \"\"}\n          label=\"Estimated amount of BCH you will receive\"\n          readOnly\n        />\n        <div className=\"group\">\n          <input type=\"checkbox\" required name=\"termsConditions\" />\n          <label>\n            I Accept{\" \"}\n            <a href={process.env.REACT_APP_TERMS_AND_CONDITIONS_URL}>\n              Terms and Conditions\n            </a>\n          </label>\n        </div>\n\n        <div className=\"buttons\">\n          <CustomButton type=\"submit\"> Buy BCH </CustomButton>\n        </div>\n      </form>\n      {errorMessage ? <p className=\"error-message\">{errorMessage}</p> : null}\n    </div>\n  );\n}\n\nexport default NewOrder;\n","import React, { useReducer } from \"react\";\nimport CustomButton from \"../custom-button/custom-button.component\";\n\nimport \"./payment-pending.styles.scss\";\nimport \"../form.styles.scss\";\n\nconst PaymentPending = ({ paymentUrl }) => {\n  const [, forceUpdate] = useReducer((x) => (x === 0 ? x + 1 : x - 1), 0);\n\n  const newOrder = () => {\n    localStorage.clear();\n    window.location.reload();\n  };\n\n  const payHere = () => {\n    window.open(paymentUrl, \"_blank\");\n    localStorage.setItem(\"new-order-button-visible\", true);\n    setTimeout(forceUpdate, 1000);\n  };\n\n  return (\n    <div className=\"new-order\">\n      <p>Thank you for your order</p>\n      <div className=\"buttons\">\n        <CustomButton onClick={payHere}>Pay here</CustomButton>\n        {localStorage.getItem(\"new-order-button-visible\") ? (\n          <CustomButton onClick={newOrder}>New Order</CustomButton>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentPending;\n","import React, { useState } from \"react\";\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport FormInput from \"../form-input/form-input.component\";\nimport { verifyPhone, verifyPhoneCode } from \"../../api/buy-bch.api\";\n\nimport \"../form.styles.scss\";\n\nfunction PhoneVerification({ orderId, setOrder }) {\n  const [phone, setPhone] = useState(\"\");\n  const [validationCode, setValidationCode] = useState(\"\");\n  const [codeSent, setCodeSent] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setErrorMessage(\"\");\n    if (codeSent) {\n      const response = await verifyPhoneCode(orderId, phone, validationCode);\n      if (response.order) {\n        setOrder(response.order);\n      } else if (response.errorMessage) {\n        setErrorMessage(response.errorMessage);\n      }\n    } else {\n      const response = await verifyPhone(orderId, phone);\n      if (response) {\n        setErrorMessage(response.errorMessage);\n      } else {\n        setCodeSent(!codeSent);\n      }\n    }\n  };\n\n  const handlePhoneChange = (event) => {\n    setPhone(event.target.value);\n  };\n\n  const handleValidationCodeChange = (event) => {\n    setValidationCode(event.target.value);\n  };\n\n  return (\n    <div className=\"new-order\">\n      <form onSubmit={handleSubmit}>\n        <FormInput\n          name=\"phoneNumber\"\n          type=\"text\"\n          handleChange={handlePhoneChange}\n          value={phone}\n          label=\"Your Phone Number (e.g. +359888123456)\"\n          required\n        />\n        {codeSent ? (\n          <FormInput\n            name=\"validationCode\"\n            type=\"text\"\n            handleChange={handleValidationCodeChange}\n            value={validationCode}\n            label=\"SMS Code\"\n            required\n          />\n        ) : null}\n        <div className=\"buttons\">\n          <CustomButton type=\"submit\"> Submit </CustomButton>\n        </div>\n      </form>\n      {errorMessage ? <p className=\"error-message\">{errorMessage}</p> : null}\n    </div>\n  );\n}\n\nexport default PhoneVerification;\n","import React, { useState } from \"react\";\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport FormInput from \"../form-input/form-input.component\";\nimport { verifyPhoto } from \"../../api/buy-bch.api\";\n\nimport \"../form.styles.scss\";\nimport \"./photo-verification.styles.scss\";\n\nfunction PhotoVerification({\n  orderId,\n  setOrder,\n  photoSuffix,\n  declarationFormUrl,\n}) {\n  const [photo, setPhoto] = useState(null);\n  const [key, setKey] = useState(0);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setErrorMessage(\"\");\n    const response = await verifyPhoto(orderId, photo, photoSuffix);\n    if (response.order) {\n      setPhoto(null);\n      setKey(key === 0 ? 1 + key : key - 1);\n      setOrder(response.order);\n    } else if (response.errorMessage) {\n      setErrorMessage(response.errorMessage);\n    }\n  };\n\n  const handleChange = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      let img = event.target.files[0];\n      setPhoto(img);\n    }\n  };\n\n  const photoName = () => {\n    if (photoSuffix === \"id_photo\") {\n      return \"photo of your ID\";\n    } else if (photoSuffix === \"face_photo\") {\n      return \"selfie\";\n    } else if (photoSuffix === \"declaration_form\") {\n      return \"a photo copy of your declaration form\";\n    }\n  };\n\n  return (\n    <div className=\"new-order\">\n      <p>Please upload a {photoName() + \" in PNG or JPEG format\"}</p>\n      <form onSubmit={handleSubmit}>\n        <FormInput\n          name=\"photo\"\n          type=\"file\"\n          handleChange={handleChange}\n          required\n          key={key}\n        />\n        {photo ? (\n          <img alt=\"To upload\" src={URL.createObjectURL(photo)} />\n        ) : null}\n        {declarationFormUrl ? (\n          <p>\n            Please download declaration form from{\" \"}\n            <a href={declarationFormUrl}>here</a>\n          </p>\n        ) : null}\n        <div className=\"buttons\">\n          <CustomButton type=\"submit\"> UPLOAD </CustomButton>\n        </div>\n      </form>\n      {errorMessage ? <p className=\"error-message\">{errorMessage}</p> : null}\n    </div>\n  );\n}\n\nexport default PhotoVerification;\n","import { useEffect, useState } from \"react\";\n\nimport { getOrder } from \"./api/buy-bch.api\";\n\nimport \"./App.scss\";\nimport NewOrder from \"./components/new-order/new-order.component\";\nimport PaymentPending from \"./components/payment-pending/payment-pending.component\";\nimport PhoneVerification from \"./components/phone-verification/phone-verification.component\";\nimport PhotoVerification from \"./components/photo-verification/photo-verification.component\";\n\nfunction App() {\n  const [order, setOrder] = useState({});\n\n  useEffect(() => {\n    const orderId = localStorage.getItem(\"orderId\");\n    if (orderId) {\n      async function fetchOrder() {\n        const retrievedOrder = await getOrder(orderId);\n        console.log(retrievedOrder);\n        setOrder(retrievedOrder);\n      }\n\n      fetchOrder();\n    }\n  }, []);\n\n  const renderSwitch = () => {\n    if (order[\"status\"] === \"pending_payment\") {\n      return <PaymentPending paymentUrl={order[\"payment_url\"]} />;\n    }\n\n    if (order[\"status\"] === \"pending_id\") {\n      if (order[\"id_pending\"] === \"phone\") {\n        return <PhoneVerification orderId={order[\"id\"]} setOrder={setOrder} />;\n      } else if (\n        order[\"id_pending\"] === \"id_photo\" ||\n        order[\"id_pending\"] === \"face_photo\" ||\n        order[\"id_pending\"] === \"declaration_form\"\n      ) {\n        return (\n          <PhotoVerification\n            orderId={order[\"id\"]}\n            setOrder={setOrder}\n            photoSuffix={order[\"id_pending\"]}\n            declarationFormUrl={order[\"id_ext_url\"]}\n          />\n        );\n      }\n    }\n    return <NewOrder setOrder={setOrder} />;\n  };\n\n  return <div className=\"App\">{renderSwitch()}</div>;\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}